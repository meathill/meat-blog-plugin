<script async src="https://www.googletagmanager.com/gtag/js?id=G-6X03SBJR88"></script>
<script>
  // 微信打赏
  (function () {
    if (!/\bmicromessenger\b/i.test(navigator.userAgent)) {
      return;
    }
    var container = document.querySelector('body.single-post .entry-content');
    if (!container) {
      return;
    }
    var div = document.createElement('div');
    div.className = 'weixin-gathering';
    div.innerHTML = '<hr><p>随手打赏，满身余香。您的支持将鼓励我继续创作！<small>（长按二维码识别打赏）</small></p><p><img src="https://static.meathill.com/image/weixin-gathering.png"></p>';
    var share = container.getElementsByClassName('sharedaddy')[0];
    container.insertBefore(div, share);
  }());

  // GA
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-6X03SBJR88');

  // insert ADs
  const couplet = document.createElement('div');
  couplet.classList.add('meathill-ad-couplet');
  couplet.innerHTML = `<a href="https://zeabur.com/?referralCode=meathill"><img alt="Zeabur 一键部署服务 无需租用服务器" src="/wp-content/uploads/ad/zeabur-120x600.webp" width="120" height="600" /></a>
<a href="https://zeabur.com/?referralCode=meathill"><img alt="Zeabur 一键部署服务 无需租用服务器" src="/wp-content/uploads/ad/zeabur-120x600.webp" width="120" height="600" /></a>`;
  document.body.appendChild(couplet);
  const inContent = document.createElement('div');
  inContent.classList.add('meathill-ad-in-content');
  inContent.innerHTML = `<a href="https://zeabur.com/?referralCode=meathill"><img alt="Zeabur 一键部署服务 无需租用服务器" src="/wp-content/uploads/ad/zeabur-650x280.webp" width="650" height="280" /></a>`;
  const ps = document.querySelectorAll('.entry-content p');
  const p = ps[3] || ps[ps.length - 1];
  if (p) {
    p.parentElement.insertBefore(inContent, p);
  }
</script>
<style>
.meathill-ad-couplet {
  position: fixed;
  top: 12.5rem;
  width: 100%;
  max-width: var(--wp--style--global--wide-size);
  margin-right: calc((100% - var(--wp--style--global--wide-size)) / 2);
  margin-left: calc((100% - var(--wp--style--global--wide-size)) / 2);
}
.meathill-ad-couplet > a {
  position: absolute;
  top: 0;
  display: block;
}
.meathill-ad-couplet img {
  width: 120px;
  height: 600px;
  display: block;
}
.meathill-ad-couplet > a:first-child {
  right: calc(100% + 2rem);
}
.meathill-ad-couplet > a:last-child {
  left: calc(100% + 2rem);
}
@media (max-width: 1440px) {
  .meathill-ad-couplet {
    display: none;
  }
}
.meathill-ad-in-content {
  margin-block-start: 1.5rem;
  display: flex;
  justify-content: center;
}
.meathill-ad-in-content a,
.meathill-ad-in-content img {
  display: block;
}
.meathill-ad-in-content img {
  max-width: 100%;
  aspect-ratio: 650 / 280;
}
</style>
